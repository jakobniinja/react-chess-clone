[{"/home/niinja/react/clones/coding-projects/reactjs-projects/chess-app/src/index.tsx":"1","/home/niinja/react/clones/coding-projects/reactjs-projects/chess-app/src/reportWebVitals.ts":"2","/home/niinja/react/clones/coding-projects/reactjs-projects/chess-app/src/App.tsx":"3","/home/niinja/react/clones/coding-projects/reactjs-projects/chess-app/src/components/Chessboard/Chessboard.tsx":"4","/home/niinja/react/clones/coding-projects/reactjs-projects/chess-app/src/components/Tile/Tile.tsx":"5","/home/niinja/react/clones/coding-projects/reactjs-projects/chess-app/src/referee/Referee.ts":"6","/home/niinja/react/clones/coding-projects/reactjs-projects/chess-app/src/Constants.ts":"7","/home/niinja/Downloads/react-chess-clone/src/index.tsx":"8","/home/niinja/Downloads/react-chess-clone/src/reportWebVitals.ts":"9","/home/niinja/Downloads/react-chess-clone/src/App.tsx":"10","/home/niinja/Downloads/react-chess-clone/src/components/Chessboard/Chessboard.tsx":"11","/home/niinja/Downloads/react-chess-clone/src/Constants.ts":"12","/home/niinja/Downloads/react-chess-clone/src/referee/Referee.ts":"13","/home/niinja/Downloads/react-chess-clone/src/components/Tile/Tile.tsx":"14","/home/niinja/react/clones/chess-app/src/index.tsx":"15","/home/niinja/react/clones/chess-app/src/reportWebVitals.ts":"16","/home/niinja/react/clones/chess-app/src/App.tsx":"17","/home/niinja/react/clones/chess-app/src/components/Chessboard/Chessboard.tsx":"18","/home/niinja/react/clones/chess-app/src/Constants.ts":"19","/home/niinja/react/clones/chess-app/src/referee/Referee.ts":"20","/home/niinja/react/clones/chess-app/src/components/Tile/Tile.tsx":"21"},{"size":500,"mtime":1654024157988,"results":"22","hashOfConfig":"23"},{"size":425,"mtime":1654024157988,"results":"24","hashOfConfig":"23"},{"size":188,"mtime":1654024157988,"results":"25","hashOfConfig":"23"},{"size":5574,"mtime":1654962560060,"results":"26","hashOfConfig":"23"},{"size":836,"mtime":1654024157988,"results":"27","hashOfConfig":"23"},{"size":4673,"mtime":1654964900823,"results":"28","hashOfConfig":"23"},{"size":5461,"mtime":1654961973209,"results":"29","hashOfConfig":"23"},{"size":500,"mtime":1655387036026,"results":"30","hashOfConfig":"31"},{"size":425,"mtime":1655387036026,"results":"32","hashOfConfig":"31"},{"size":188,"mtime":1655387036026,"results":"33","hashOfConfig":"31"},{"size":5574,"mtime":1655387036026,"results":"34","hashOfConfig":"31"},{"size":5461,"mtime":1655387036026,"results":"35","hashOfConfig":"31"},{"size":4949,"mtime":1655392906183,"results":"36","hashOfConfig":"31"},{"size":836,"mtime":1655387036026,"results":"37","hashOfConfig":"31"},{"size":500,"mtime":1655553151845,"results":"38","hashOfConfig":"39"},{"size":425,"mtime":1653759567272,"results":"40","hashOfConfig":"39"},{"size":188,"mtime":1655553151845,"results":"41","hashOfConfig":"39"},{"size":5574,"mtime":1655553151845,"results":"42","hashOfConfig":"39"},{"size":5461,"mtime":1655737638447,"results":"43","hashOfConfig":"39"},{"size":9372,"mtime":1655738345453,"results":"44","hashOfConfig":"39"},{"size":836,"mtime":1655553151845,"results":"45","hashOfConfig":"39"},{"filePath":"46","messages":"47","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},"1vfn63z",{"filePath":"49","messages":"50","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"51","messages":"52","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"53","messages":"54","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"55","messages":"56","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"57","messages":"58","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"59","messages":"60","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"61","messages":"62","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1vhhxe0",{"filePath":"63","messages":"64","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"65","messages":"66","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"67","messages":"68","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"69","messages":"70","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"71","messages":"72","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"73","messages":"74","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"75","messages":"76","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"77"},"cwpgcu",{"filePath":"78","messages":"79","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"77"},{"filePath":"80","messages":"81","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"77"},{"filePath":"82","messages":"83","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"84","usedDeprecatedRules":"77"},{"filePath":"85","messages":"86","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"87","messages":"88","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"89","messages":"90","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"77"},"/home/niinja/react/clones/coding-projects/reactjs-projects/chess-app/src/index.tsx",[],["91","92"],"/home/niinja/react/clones/coding-projects/reactjs-projects/chess-app/src/reportWebVitals.ts",[],"/home/niinja/react/clones/coding-projects/reactjs-projects/chess-app/src/App.tsx",[],"/home/niinja/react/clones/coding-projects/reactjs-projects/chess-app/src/components/Chessboard/Chessboard.tsx",["93","94"],"/home/niinja/react/clones/coding-projects/reactjs-projects/chess-app/src/components/Tile/Tile.tsx",[],"/home/niinja/react/clones/coding-projects/reactjs-projects/chess-app/src/referee/Referee.ts",[],"/home/niinja/react/clones/coding-projects/reactjs-projects/chess-app/src/Constants.ts",[],"/home/niinja/Downloads/react-chess-clone/src/index.tsx",[],"/home/niinja/Downloads/react-chess-clone/src/reportWebVitals.ts",[],"/home/niinja/Downloads/react-chess-clone/src/App.tsx",[],"/home/niinja/Downloads/react-chess-clone/src/components/Chessboard/Chessboard.tsx",["95","96"],"/home/niinja/Downloads/react-chess-clone/src/Constants.ts",[],"/home/niinja/Downloads/react-chess-clone/src/referee/Referee.ts",[],"/home/niinja/Downloads/react-chess-clone/src/components/Tile/Tile.tsx",[],"/home/niinja/react/clones/chess-app/src/index.tsx",[],["97","98"],"/home/niinja/react/clones/chess-app/src/reportWebVitals.ts",[],"/home/niinja/react/clones/chess-app/src/App.tsx",[],"/home/niinja/react/clones/chess-app/src/components/Chessboard/Chessboard.tsx",["99","100"],"import { isValidElement, useRef, useState } from \"react\";\nimport Tile from \"../Tile/Tile\";\nimport \"./Chessboard.css\";\n\nimport Referee from \"../../referee/Referee\";\nimport {\n  HORIZONTAL_AXIS,\n  VERTICAL_AXIS,\n  PieceType,\n  TeamType,\n  Piece,\n  initialBoardState,\n  Position,\n  GRID_SIZE,\n  samePosition,\n} from \"../../Constants\";\n\nexport default function Chessboard() {\n  const [activePiece, setActivePiece] = useState<HTMLElement | null>(null);\n  const [grabPosition, setGrabPosition] = useState<Position>({ x: -1, y: -1 });\n  const chessboardRef = useRef<HTMLDivElement>(null);\n  const [pieces, setPieces] = useState<Piece[]>(initialBoardState);\n  const referee = new Referee();\n\n  const grabPiece = (e: React.MouseEvent) => {\n    const chessboard = chessboardRef.current;\n    const el = e.target as HTMLElement;\n    if (el.classList.contains(\"chess-piece\") && chessboard) {\n      const grabX = Math.floor((e.clientX - chessboard.offsetLeft) / GRID_SIZE);\n      const grabY = Math.abs(\n        Math.floor((e.clientY - chessboard.offsetTop - 700) / GRID_SIZE)\n      );\n      setGrabPosition({ x: grabX, y: grabY });\n\n      const x = e.clientX - GRID_SIZE / 2;\n      const y = e.clientY - GRID_SIZE / 2;\n      el.style.position = \"absolute\";\n      el.style.left = `${x}px`;\n      el.style.top = `${y}px`;\n      setActivePiece(el);\n    }\n  };\n\n  const movePiece = (e: React.MouseEvent) => {\n    const el = e.target as HTMLElement;\n\n    const chessboard = chessboardRef.current;\n    if (activePiece && chessboard) {\n\n      const minX = chessboard.offsetLeft - 25;\n      const minY = chessboard.offsetTop - 25;\n      const maxX = chessboard.offsetLeft + chessboard.clientWidth - 75;\n      const maxY = chessboard.offsetTop + chessboard.clientHeight - 75;\n      const x = e.clientX - GRID_SIZE / 2;\n      const y = e.clientY - GRID_SIZE / 2;\n      activePiece.style.position = \"absolute\";\n\n      // if x is less then minimum amount\n      if (x < minX) {\n        activePiece.style.left = `${minX}px`;\n      }\n      // if x is smaller then minimum amount\n      else if (x > maxX) {\n        activePiece.style.left = `${maxX}px`;\n      } else {\n        activePiece.style.left = `${x}px`;\n      }\n      // if y is smaller  then minimum amount\n      if (y < minY) {\n        activePiece.style.top = `${minY}px`;\n      }\n      // if y is greater then maxiumum amount\n      else if (y > maxY) {\n        activePiece.style.top = `${maxY}px`;\n      } else {\n        activePiece.style.top = `${y}px`;\n      }\n    }\n  };\n  const dropPiece = (e: React.MouseEvent) => {\n    const chessboard = chessboardRef.current;\n    if (activePiece && chessboard) {\n      //updates the piece position\n      const x = Math.floor((e.clientX - chessboard.offsetLeft) / GRID_SIZE);\n\n      const y = Math.abs(\n        Math.floor((e.clientY - chessboard.offsetTop - 700) / GRID_SIZE)\n      );\n      const currentPiece = pieces.find((p) =>\n        samePosition(p.position, grabPosition)\n      );\n\n      if (currentPiece) {\n        const validMove = referee.isValidMove(\n          grabPosition,\n          { x, y },\n          currentPiece.type,\n          currentPiece.team,\n          pieces\n        );\n        const isEnpassentMove = referee.isAppasentMove(\n          grabPosition,\n          { x, y },\n\n          currentPiece.type,\n          currentPiece.team,\n          pieces\n        );\n\n        const pawnDirection = currentPiece.team === TeamType.OUR ? 1 : -1;\n        if (isEnpassentMove) {\n          const updatePiece = pieces.reduce((acc, i) => {\n            if (samePosition(i.position, grabPosition)) {\n              i.enPassent = false;\n              i.position.x = x;\n              i.position.y = y;\n              acc.push(i);\n            } else if (!samePosition(i.position, { x, y: pawnDirection })) {\n              if (i.type === PieceType.PAWN) {\n                i.enPassent = false;\n              }\n              acc.push(i);\n            }\n            return acc;\n          }, [] as Piece[]);\n          setPieces(updatePiece);\n        } else if (validMove) {\n          // UPDATE THE PIECE POSITION\n          const updatedPieces = pieces.reduce((acc, i) => {\n            if (samePosition(i.position, grabPosition)) {\n              i.enPassent =\n                Math.abs(grabPosition.y - y) === 2 && i.type === PieceType.PAWN;\n\n              i.position.x = x;\n              i.position.y = y;\n              acc.push(i);\n            } else if (!samePosition(i.position, { x, y })) {\n              if (i.type === PieceType.PAWN) {\n                i.enPassent = false;\n              }\n              acc.push(i);\n            }\n            return acc;\n          }, [] as Piece[]);\n          setPieces(updatedPieces);\n        } else {\n          // RESET THE PIECE POSITION\n          activePiece.style.position = \"relative\";\n          activePiece.style.removeProperty(\"top\");\n          activePiece.style.removeProperty(\"left\");\n        }\n      }\n\n      setActivePiece(null);\n    }\n  };\n\n  let board = [];\n\n  for (let j = VERTICAL_AXIS.length - 1; j >= 0; j--) {\n    for (let i = 0; i < HORIZONTAL_AXIS.length; i++) {\n      const number = j + i + 2;\n      const piece = pieces.find((p) =>\n        samePosition(p.position, { x: i, y: j })\n      );\n\n      let image = piece ? piece.image : undefined;\n      board.push(<Tile key={`${j},${i}`} image={image} number={number} />);\n    }\n  }\n\n  return (\n    <div\n      onMouseMove={(e) => movePiece(e)}\n      onMouseDown={(e) => grabPiece(e)}\n      onMouseUp={(e) => dropPiece(e)}\n      id=\"chessboard\"\n      ref={chessboardRef}\n    >\n      {board}\n    </div>\n  );\n}\n","/home/niinja/react/clones/chess-app/src/Constants.ts",[],"/home/niinja/react/clones/chess-app/src/referee/Referee.ts",["101"],"/home/niinja/react/clones/chess-app/src/components/Tile/Tile.tsx",[],{"ruleId":"102","replacedBy":"103"},{"ruleId":"104","replacedBy":"105"},{"ruleId":"106","severity":1,"message":"107","line":1,"column":10,"nodeType":"108","messageId":"109","endLine":1,"endColumn":24},{"ruleId":"106","severity":1,"message":"110","line":45,"column":11,"nodeType":"108","messageId":"109","endLine":45,"endColumn":13},{"ruleId":"106","severity":1,"message":"107","line":1,"column":10,"nodeType":"108","messageId":"109","endLine":1,"endColumn":24},{"ruleId":"106","severity":1,"message":"110","line":45,"column":11,"nodeType":"108","messageId":"109","endLine":45,"endColumn":13},{"ruleId":"102","replacedBy":"111"},{"ruleId":"104","replacedBy":"112"},{"ruleId":"106","severity":1,"message":"107","line":1,"column":10,"nodeType":"108","messageId":"109","endLine":1,"endColumn":24},{"ruleId":"106","severity":1,"message":"110","line":45,"column":11,"nodeType":"108","messageId":"109","endLine":45,"endColumn":13},{"ruleId":"106","severity":1,"message":"113","line":1,"column":10,"nodeType":"108","messageId":"109","endLine":1,"endColumn":53},"no-native-reassign",["114"],"no-negated-in-lhs",["115"],"@typescript-eslint/no-unused-vars","'isValidElement' is defined but never used.","Identifier","unusedVar","'el' is assigned a value but never used.",["114"],["115"],"'createTypeReferenceDirectiveResolutionCache' is defined but never used.","no-global-assign","no-unsafe-negation"]