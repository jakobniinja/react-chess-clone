[{"/home/niinja/react/clones/coding-projects/reactjs-projects/chess-app/src/index.tsx":"1","/home/niinja/react/clones/coding-projects/reactjs-projects/chess-app/src/reportWebVitals.ts":"2","/home/niinja/react/clones/coding-projects/reactjs-projects/chess-app/src/App.tsx":"3","/home/niinja/react/clones/coding-projects/reactjs-projects/chess-app/src/components/Chessboard/Chessboard.tsx":"4","/home/niinja/react/clones/coding-projects/reactjs-projects/chess-app/src/components/Tile/Tile.tsx":"5","/home/niinja/react/clones/coding-projects/reactjs-projects/chess-app/src/referee/Referee.ts":"6","/home/niinja/react/clones/coding-projects/reactjs-projects/chess-app/src/Constants.ts":"7","/home/niinja/Downloads/react-chess-clone/src/index.tsx":"8","/home/niinja/Downloads/react-chess-clone/src/reportWebVitals.ts":"9","/home/niinja/Downloads/react-chess-clone/src/App.tsx":"10","/home/niinja/Downloads/react-chess-clone/src/components/Chessboard/Chessboard.tsx":"11","/home/niinja/Downloads/react-chess-clone/src/Constants.ts":"12","/home/niinja/Downloads/react-chess-clone/src/referee/Referee.ts":"13","/home/niinja/Downloads/react-chess-clone/src/components/Tile/Tile.tsx":"14","/home/niinja/react/clones/chess-app/src/index.tsx":"15","/home/niinja/react/clones/chess-app/src/reportWebVitals.ts":"16","/home/niinja/react/clones/chess-app/src/App.tsx":"17","/home/niinja/react/clones/chess-app/src/components/Chessboard/Chessboard.tsx":"18","/home/niinja/react/clones/chess-app/src/Constants.ts":"19","/home/niinja/react/clones/chess-app/src/referee/Referee.ts":"20","/home/niinja/react/clones/chess-app/src/components/Tile/Tile.tsx":"21","/home/niinja/react/clones/chess-app/src/referee/rules/PawnRules.tsx":"22","/home/niinja/react/clones/chess-app/src/referee/rules/GeneralRules.ts":"23","/home/niinja/react/clones/chess-app/src/referee/rules/KnightRules.ts":"24","/home/niinja/react/clones/chess-app/src/referee/rules/BishopRules.ts":"25","/home/niinja/react/clones/chess-app/src/referee/rules/RookRules.ts":"26","/home/niinja/react/clones/chess-app/src/referee/rules/KingRules.ts":"27","/home/niinja/react/clones/chess-app/src/referee/rules/index.ts":"28"},{"size":500,"mtime":1654024157988,"results":"29","hashOfConfig":"30"},{"size":425,"mtime":1654024157988,"results":"31","hashOfConfig":"30"},{"size":188,"mtime":1654024157988,"results":"32","hashOfConfig":"30"},{"size":5574,"mtime":1654962560060,"results":"33","hashOfConfig":"30"},{"size":836,"mtime":1654024157988,"results":"34","hashOfConfig":"30"},{"size":4673,"mtime":1654964900823,"results":"35","hashOfConfig":"30"},{"size":5461,"mtime":1654961973209,"results":"36","hashOfConfig":"30"},{"size":500,"mtime":1655387036026,"results":"37","hashOfConfig":"38"},{"size":425,"mtime":1655387036026,"results":"39","hashOfConfig":"38"},{"size":188,"mtime":1655387036026,"results":"40","hashOfConfig":"38"},{"size":5574,"mtime":1655387036026,"results":"41","hashOfConfig":"38"},{"size":5461,"mtime":1655387036026,"results":"42","hashOfConfig":"38"},{"size":4949,"mtime":1655392906183,"results":"43","hashOfConfig":"38"},{"size":836,"mtime":1655387036026,"results":"44","hashOfConfig":"38"},{"size":500,"mtime":1655553151845,"results":"45","hashOfConfig":"46"},{"size":425,"mtime":1653759567272,"results":"47","hashOfConfig":"46"},{"size":188,"mtime":1655553151845,"results":"48","hashOfConfig":"46"},{"size":5574,"mtime":1656093026211,"results":"49","hashOfConfig":"46"},{"size":5461,"mtime":1656169645803,"results":"50","hashOfConfig":"46"},{"size":3344,"mtime":1656355558431,"results":"51","hashOfConfig":"46"},{"size":836,"mtime":1655553151845,"results":"52","hashOfConfig":"46"},{"size":1458,"mtime":1656349009707,"results":"53","hashOfConfig":"46"},{"size":625,"mtime":1656348918124,"results":"54","hashOfConfig":"46"},{"size":1183,"mtime":1656349537907,"results":"55","hashOfConfig":"46"},{"size":2298,"mtime":1656354800913,"results":"56","hashOfConfig":"46"},{"size":1610,"mtime":1656354983828,"results":"57","hashOfConfig":"46"},{"size":1149,"mtime":1656355257701,"results":"58","hashOfConfig":"46"},{"size":173,"mtime":1656355531127,"results":"59","hashOfConfig":"46"},{"filePath":"60","messages":"61","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},"1vfn63z",{"filePath":"63","messages":"64","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"65","messages":"66","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"67","messages":"68","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"69","messages":"70","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"71","messages":"72","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"73","messages":"74","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"75","messages":"76","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1vhhxe0",{"filePath":"77","messages":"78","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"79","messages":"80","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"81","messages":"82","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"83","messages":"84","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"85","messages":"86","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"87","messages":"88","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"89","messages":"90","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"91"},"cwpgcu",{"filePath":"92","messages":"93","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"91"},{"filePath":"94","messages":"95","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"91"},{"filePath":"96","messages":"97","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"98","usedDeprecatedRules":"91"},{"filePath":"99","messages":"100","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"91"},{"filePath":"101","messages":"102","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"103","messages":"104","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"91"},{"filePath":"105","messages":"106","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"91"},{"filePath":"107","messages":"108","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"91"},{"filePath":"109","messages":"110","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"111","messages":"112","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"113","messages":"114","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"115","messages":"116","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"117","messages":"118","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/home/niinja/react/clones/coding-projects/reactjs-projects/chess-app/src/index.tsx",[],["119","120"],"/home/niinja/react/clones/coding-projects/reactjs-projects/chess-app/src/reportWebVitals.ts",[],"/home/niinja/react/clones/coding-projects/reactjs-projects/chess-app/src/App.tsx",[],"/home/niinja/react/clones/coding-projects/reactjs-projects/chess-app/src/components/Chessboard/Chessboard.tsx",["121","122"],"/home/niinja/react/clones/coding-projects/reactjs-projects/chess-app/src/components/Tile/Tile.tsx",[],"/home/niinja/react/clones/coding-projects/reactjs-projects/chess-app/src/referee/Referee.ts",[],"/home/niinja/react/clones/coding-projects/reactjs-projects/chess-app/src/Constants.ts",[],"/home/niinja/Downloads/react-chess-clone/src/index.tsx",[],"/home/niinja/Downloads/react-chess-clone/src/reportWebVitals.ts",[],"/home/niinja/Downloads/react-chess-clone/src/App.tsx",[],"/home/niinja/Downloads/react-chess-clone/src/components/Chessboard/Chessboard.tsx",["123","124"],"/home/niinja/Downloads/react-chess-clone/src/Constants.ts",[],"/home/niinja/Downloads/react-chess-clone/src/referee/Referee.ts",[],"/home/niinja/Downloads/react-chess-clone/src/components/Tile/Tile.tsx",[],"/home/niinja/react/clones/chess-app/src/index.tsx",[],["125","126"],"/home/niinja/react/clones/chess-app/src/reportWebVitals.ts",[],"/home/niinja/react/clones/chess-app/src/App.tsx",[],"/home/niinja/react/clones/chess-app/src/components/Chessboard/Chessboard.tsx",["127","128"],"import { isValidElement, useRef, useState } from \"react\";\nimport Tile from \"../Tile/Tile\";\nimport \"./Chessboard.css\";\n\nimport Referee from \"../../referee/Referee\";\nimport {\n  HORIZONTAL_AXIS,\n  VERTICAL_AXIS,\n  PieceType,\n  TeamType,\n  Piece,\n  initialBoardState,\n  Position,\n  GRID_SIZE,\n  samePosition,\n} from \"../../Constants\";\n\nexport default function Chessboard() {\n  const [activePiece, setActivePiece] = useState<HTMLElement | null>(null);\n  const [grabPosition, setGrabPosition] = useState<Position>({ x: -1, y: -1 });\n  const chessboardRef = useRef<HTMLDivElement>(null);\n  const [pieces, setPieces] = useState<Piece[]>(initialBoardState);\n  const referee = new Referee();\n\n  const grabPiece = (e: React.MouseEvent) => {\n    const chessboard = chessboardRef.current;\n    const el = e.target as HTMLElement;\n    if (el.classList.contains(\"chess-piece\") && chessboard) {\n      const grabX = Math.floor((e.clientX - chessboard.offsetLeft) / GRID_SIZE);\n      const grabY = Math.abs(\n        Math.floor((e.clientY - chessboard.offsetTop - 700) / GRID_SIZE)\n      );\n      setGrabPosition({ x: grabX, y: grabY });\n\n      const x = e.clientX - GRID_SIZE / 2;\n      const y = e.clientY - GRID_SIZE / 2;\n      el.style.position = \"absolute\";\n      el.style.left = `${x}px`;\n      el.style.top = `${y}px`;\n      setActivePiece(el);\n    }\n  };\n\n  const movePiece = (e: React.MouseEvent) => {\n    const el = e.target as HTMLElement;\n\n    const chessboard = chessboardRef.current;\n    if (activePiece && chessboard) {\n\n      const minX = chessboard.offsetLeft - 25;\n      const minY = chessboard.offsetTop - 25;\n      const maxX = chessboard.offsetLeft + chessboard.clientWidth - 75;\n      const maxY = chessboard.offsetTop + chessboard.clientHeight - 75;\n      const x = e.clientX - GRID_SIZE / 2;\n      const y = e.clientY - GRID_SIZE / 2;\n      activePiece.style.position = \"absolute\";\n\n      // if x is less then minimum amount\n      if (x < minX) {\n        activePiece.style.left = `${minX}px`;\n      }\n      // if x is smaller then minimum amount\n      else if (x > maxX) {\n        activePiece.style.left = `${maxX}px`;\n      } else {\n        activePiece.style.left = `${x}px`;\n      }\n      // if y is smaller  then minimum amount\n      if (y < minY) {\n        activePiece.style.top = `${minY}px`;\n      }\n      // if y is greater then maxiumum amount\n      else if (y > maxY) {\n        activePiece.style.top = `${maxY}px`;\n      } else {\n        activePiece.style.top = `${y}px`;\n      }\n    }\n  };\n  const dropPiece = (e: React.MouseEvent) => {\n    const chessboard = chessboardRef.current;\n    if (activePiece && chessboard) {\n      //updates the piece position\n      const x = Math.floor((e.clientX - chessboard.offsetLeft) / GRID_SIZE);\n\n      const y = Math.abs(\n        Math.floor((e.clientY - chessboard.offsetTop - 700) / GRID_SIZE)\n      );\n      const currentPiece = pieces.find((p) =>\n        samePosition(p.position, grabPosition)\n      );\n\n      if (currentPiece) {\n        const validMove = referee.isValidMove(\n          grabPosition,\n          { x, y },\n          currentPiece.type,\n          currentPiece.team,\n          pieces\n        );\n        const isEnpassentMove = referee.isAppasentMove(\n          grabPosition,\n          { x, y },\n\n          currentPiece.type,\n          currentPiece.team,\n          pieces\n        );\n\n        const pawnDirection = currentPiece.team === TeamType.OUR ? 1 : -1;\n        if (isEnpassentMove) {\n          const updatePiece = pieces.reduce((acc, i) => {\n            if (samePosition(i.position, grabPosition)) {\n              i.enPassent = false;\n              i.position.x = x;\n              i.position.y = y;\n              acc.push(i);\n            } else if (!samePosition(i.position, { x, y: pawnDirection })) {\n              if (i.type === PieceType.PAWN) {\n                i.enPassent = false;\n              }\n              acc.push(i);\n            }\n            return acc;\n          }, [] as Piece[]);\n          setPieces(updatePiece);\n        } else if (validMove) {\n          // UPDATE THE PIECE POSITION\n          const updatedPieces = pieces.reduce((acc, i) => {\n            if (samePosition(i.position, grabPosition)) {\n              i.enPassent =\n                Math.abs(grabPosition.y - y) === 2 && i.type === PieceType.PAWN;\n\n              i.position.x = x;\n              i.position.y = y;\n              acc.push(i);\n            } else if (!samePosition(i.position, { x, y })) {\n              if (i.type === PieceType.PAWN) {\n                i.enPassent = false;\n              }\n              acc.push(i);\n            }\n            return acc;\n          }, [] as Piece[]);\n          setPieces(updatedPieces);\n        } else {\n          // RESET THE PIECE POSITION\n          activePiece.style.position = \"relative\";\n          activePiece.style.removeProperty(\"top\");\n          activePiece.style.removeProperty(\"left\");\n        }\n      }\n\n      setActivePiece(null);\n    }\n  };\n\n  let board = [];\n\n  for (let j = VERTICAL_AXIS.length - 1; j >= 0; j--) {\n    for (let i = 0; i < HORIZONTAL_AXIS.length; i++) {\n      const number = j + i + 2;\n      const piece = pieces.find((p) =>\n        samePosition(p.position, { x: i, y: j })\n      );\n\n      let image = piece ? piece.image : undefined;\n      board.push(<Tile key={`${j},${i}`} image={image} number={number} />);\n    }\n  }\n\n  return (\n    <div\n      onMouseMove={(e) => movePiece(e)}\n      onMouseDown={(e) => grabPiece(e)}\n      onMouseUp={(e) => dropPiece(e)}\n      id=\"chessboard\"\n      ref={chessboardRef}\n    >\n      {board}\n    </div>\n  );\n}\n","/home/niinja/react/clones/chess-app/src/Constants.ts",[],"/home/niinja/react/clones/chess-app/src/referee/Referee.ts",[],"/home/niinja/react/clones/chess-app/src/components/Tile/Tile.tsx",[],"/home/niinja/react/clones/chess-app/src/referee/rules/PawnRules.tsx",[],"/home/niinja/react/clones/chess-app/src/referee/rules/GeneralRules.ts",[],"/home/niinja/react/clones/chess-app/src/referee/rules/KnightRules.ts",[],"/home/niinja/react/clones/chess-app/src/referee/rules/BishopRules.ts",[],"/home/niinja/react/clones/chess-app/src/referee/rules/RookRules.ts",[],"/home/niinja/react/clones/chess-app/src/referee/rules/KingRules.ts",[],"/home/niinja/react/clones/chess-app/src/referee/rules/index.ts",[],{"ruleId":"129","replacedBy":"130"},{"ruleId":"131","replacedBy":"132"},{"ruleId":"133","severity":1,"message":"134","line":1,"column":10,"nodeType":"135","messageId":"136","endLine":1,"endColumn":24},{"ruleId":"133","severity":1,"message":"137","line":45,"column":11,"nodeType":"135","messageId":"136","endLine":45,"endColumn":13},{"ruleId":"133","severity":1,"message":"134","line":1,"column":10,"nodeType":"135","messageId":"136","endLine":1,"endColumn":24},{"ruleId":"133","severity":1,"message":"137","line":45,"column":11,"nodeType":"135","messageId":"136","endLine":45,"endColumn":13},{"ruleId":"129","replacedBy":"138"},{"ruleId":"131","replacedBy":"139"},{"ruleId":"133","severity":1,"message":"134","line":1,"column":10,"nodeType":"135","messageId":"136","endLine":1,"endColumn":24},{"ruleId":"133","severity":1,"message":"137","line":45,"column":11,"nodeType":"135","messageId":"136","endLine":45,"endColumn":13},"no-native-reassign",["140"],"no-negated-in-lhs",["141"],"@typescript-eslint/no-unused-vars","'isValidElement' is defined but never used.","Identifier","unusedVar","'el' is assigned a value but never used.",["140"],["141"],"no-global-assign","no-unsafe-negation"]